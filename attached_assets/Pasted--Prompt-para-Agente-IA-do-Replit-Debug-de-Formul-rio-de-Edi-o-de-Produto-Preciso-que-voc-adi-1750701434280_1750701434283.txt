# Prompt para Agente IA do Replit - Debug de FormulÃ¡rio de EdiÃ§Ã£o de Produto

Preciso que vocÃª adicione logs de debug temporÃ¡rios no arquivo `client/src/pages/seller/products/edit-product.tsx` para identificar por que os dados do produto nÃ£o estÃ£o sendo carregados no formulÃ¡rio de ediÃ§Ã£o.

## ğŸ” Problema:
A pÃ¡gina `/seller/products/1/edit` carrega, mas os campos do formulÃ¡rio aparecem vazios em vez de prÃ©-preenchidos com os dados existentes do produto.

## ğŸ“‹ AÃ§Ã£o NecessÃ¡ria:

### 1. Abra o arquivo: `client/src/pages/seller/products/edit-product.tsx`

### 2. Localize a seÃ§Ã£o do `useQuery` (aproximadamente linha 90) e substitua por:

```typescript
// Query para buscar dados do produto
const { data: productData, isLoading: productLoading, error: productError } = useQuery({
  queryKey: [`/api/products/${id}`],
  queryFn: async () => {
    console.log('ğŸ” [DEBUG] Fazendo fetch para:', `/api/products/${id}`);
    console.log('ğŸ” [DEBUG] ID do produto:', id);
    console.log('ğŸ” [DEBUG] isAuthenticated:', isAuthenticated);
    console.log('ğŸ” [DEBUG] isSeller:', isSeller);
    
    const response = await fetch(`/api/products/${id}`);
    console.log('ğŸ” [DEBUG] Response status:', response.status);
    console.log('ğŸ” [DEBUG] Response OK:', response.ok);
    
    if (!response.ok) {
      console.log('ğŸ” [DEBUG] Response erro:', response.statusText);
      throw new Error('Produto nÃ£o encontrado');
    }
    
    const data = await response.json();
    console.log('ğŸ” [DEBUG] Dados recebidos da API:', data);
    return data;
  },
  enabled: !!id && !!isAuthenticated && !!isSeller,
});

// Log adicional para verificar estado do query
console.log('ğŸ” [DEBUG] Query enabled:', !!id && !!isAuthenticated && !!isSeller);
console.log('ğŸ” [DEBUG] productData:', productData);
console.log('ğŸ” [DEBUG] productLoading:', productLoading);
console.log('ğŸ” [DEBUG] productError:', productError);
```

### 3. Localize o `useEffect` (aproximadamente linha 110) e substitua por:

```typescript
// Atualizar formulÃ¡rio quando dados carregarem
useEffect(() => {
  console.log('ğŸ” [DEBUG] useEffect executado');
  console.log('ğŸ” [DEBUG] productData no useEffect:', productData);
  console.log('ğŸ” [DEBUG] form object:', form);
  
  if (productData) {
    console.log('ğŸ” [DEBUG] Estrutura do productData:', Object.keys(productData));
    
    const formData = {
      name: productData.name || '',
      description: productData.description || '',
      price: productData.price || 0,
      discountedPrice: productData.discountedPrice || null,
      category: productData.category || '',
      stock: productData.stock || 0,
      storeId: productData.storeId || productData.store_id || 0,
    };
    
    console.log('ğŸ” [DEBUG] Dados que serÃ£o aplicados no form:', formData);
    
    form.reset(formData);
    
    console.log('ğŸ” [DEBUG] Form resetado - valores atuais:', form.getValues());

    // Carregar imagens existentes
    if (productData.images && productData.images.length > 0) {
      console.log('ğŸ” [DEBUG] Definindo imagens:', productData.images);
      setProductImages(productData.images);
    }
    
    console.log('âœ… Dados do produto carregados e aplicados no formulÃ¡rio');
  } else {
    console.log('âŒ [DEBUG] productData Ã© null/undefined');
  }
}, [productData, form]);
```

## ğŸ§ª Como Testar:

1. Salve o arquivo apÃ³s fazer as mudanÃ§as
2. Abra o navegador e pressione F12 para abrir Developer Tools
3. VÃ¡ na aba "Console"
4. Acesse a pÃ¡gina: `/seller/products/1/edit` (ou qualquer ID de produto existente)
5. Observe os logs que aparecem no console

## ğŸ“Š Resultado Esperado:

VocÃª deve ver uma sÃ©rie de logs comeÃ§ando com `ğŸ” [DEBUG]` que mostrarÃ£o:
- Se a API estÃ¡ sendo chamada
- Se os dados estÃ£o sendo retornados
- Se o formulÃ¡rio estÃ¡ sendo populado
- Onde exatamente estÃ¡ falhando

## âš ï¸ Importante:

- Estes logs sÃ£o temporÃ¡rios para debug
- ApÃ³s identificar o problema, removeremos os logs
- Mantenha o Developer Tools aberto para ver os logs
- Teste com um produto que vocÃª sabe que existe

ApÃ³s implementar, me informe quais logs aparecem no console para que eu possa identificar onde estÃ¡ o problema!