Solução para o erro de exportação
O problema está na forma como o componente está sendo exportado. Vamos modificar o arquivo safe-image.tsx para garantir que ele exporte o componente corretamente.
Correção do arquivo safe-image.tsx
tsx// client/src/components/ui/safe-image.tsx

import React, { useState } from 'react';

// É importante exportar o componente corretamente
export const SafeImage: React.FC<{
  productId?: number;
  promotionId?: number;
  imageId?: number;
  alt?: string;
  className?: string;
  onError?: (e: React.SyntheticEvent<HTMLImageElement, Event>) => void;
  placeholderImage?: string;
}> = ({ 
  productId, 
  promotionId,
  imageId,
  alt = '', 
  className = "w-full h-full object-cover",
  onError = null,
  placeholderImage = "/placeholder-image.jpg"
}) => {
  const [error, setError] = useState(false);

  // Determinar a URL da imagem com base nos parâmetros
  let src;
  
  if (promotionId) {
    // Imagem de promoção
    src = `/api/promotions/${promotionId}/image`;
  } else if (productId) {
    if (imageId) {
      // Imagem específica de um produto
      src = `/api/products/${productId}/image/${imageId}`;
    } else {
      // Imagem principal do produto
      src = `/api/products/${productId}/primary-image`;
    }
  } else {
    // Sem parâmetros válidos, usar placeholder
    src = placeholderImage;
  }
  
  // Handler para erros de carregamento de imagem
  const handleError = (e: React.SyntheticEvent<HTMLImageElement, Event>) => {
    if (!error) {
      console.warn(`Erro ao carregar imagem: ${src}`);
      setError(true);
      e.currentTarget.src = placeholderImage;
      
      if (onError && typeof onError === 'function') {
        onError(e);
      }
    }
  };
  
  return (
    <img
      src={error ? placeholderImage : src}
      alt={alt}
      className={className}
      onError={handleError}
    />
  );
};

// É importante incluir uma exportação padrão também para maior compatibilidade
export default SafeImage;
Correção para como o componente é importado
Se você está usando o componente em outros arquivos, certifique-se de importá-lo corretamente:
tsx// Opção 1: Importação padrão (recomendada)
import SafeImage from '../../components/ui/safe-image';

// OU

// Opção 2: Importação nomeada
import { SafeImage } from '../../components/ui/safe-image';
Verificação adicional
Também verifique se o caminho do arquivo está correto. O erro indica que o sistema está procurando o arquivo em:
/src/components/ui/safe-image.tsx
Se a estrutura do seu projeto for diferente, pode ser necessário ajustar o caminho de importação.