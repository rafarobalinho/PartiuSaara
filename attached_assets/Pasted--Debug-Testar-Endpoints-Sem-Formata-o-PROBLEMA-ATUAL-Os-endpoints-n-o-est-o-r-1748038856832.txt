# 🔍 Debug - Testar Endpoints Sem Formatação

## 🚨 **PROBLEMA ATUAL**

Os endpoints não estão retornando nada (string vazia), por isso o `json_pp` falha.

## 🧪 **TESTES PARA DIAGNÓSTICO**

Execute estes comandos **SEM** `json_pp` para ver a resposta crua:

```bash
echo "=== TESTE 1: Debug endpoint raw ==="
curl -v "http://localhost:5000/api/debug-vars"

echo -e "\n\n=== TESTE 2: Stripe endpoint raw ==="
curl -v -X POST "http://localhost:5000/api/stripe/checkout" \
-H "Content-Type: application/json" \
-d '{"planId":"freemium"}'

echo -e "\n\n=== TESTE 3: Verificar se servidor está rodando ==="
curl -v "http://localhost:5000/"

echo -e "\n\n=== TESTE 4: Listar arquivos da API ==="
ls -la api/
ls -la api/stripe/ 2>/dev/null || echo "Pasta api/stripe não existe"
```

## 🔍 **O QUE PROCURAR NAS RESPOSTAS**

### **Se retornar erro 404:**
```
< HTTP/1.1 404 Not Found
```
→ **Solução**: Arquivos não existem nos locais corretos

### **Se retornar erro 500:**
```
< HTTP/1.1 500 Internal Server Error
```
→ **Solução**: Erro no código dos endpoints

### **Se não conectar:**
```
curl: (7) Failed to connect to localhost port 5000
```
→ **Solução**: Servidor não está rodando na porta 5000

### **Se retornar HTML:**
```
<!DOCTYPE html>
```
→ **Solução**: Endpoint não existe, retornando página padrão

## 🛠️ **VERIFICAÇÕES ADICIONAIS**

```bash
# Verificar se o servidor está rodando
ps aux | grep node
netstat -tlnp | grep :5000

# Verificar estrutura de arquivos
find . -name "*.js" | grep -E "(api|debug|stripe)"

# Verificar logs do servidor
tail -f logs/server.log  # ou onde estão os logs
```

## 📋 **ESTRUTURA ESPERADA DE ARQUIVOS**

Confirme se você tem esta estrutura:

```
projeto/
├── api/
│   ├── debug-vars.js
│   └── stripe/
│       └── checkout.js
```

**OU** dependendo do framework:

```
projeto/
├── pages/
│   └── api/
│       ├── debug-vars.js
│       └── stripe/
│           └── checkout.js
```

## 🚀 **PRÓXIMOS PASSOS BASEADOS NOS RESULTADOS**

### **Se arquivos não existem:**
1. Criar arquivos nos locais corretos
2. Reiniciar servidor
3. Testar novamente

### **Se arquivos existem mas não funcionam:**
1. Verificar sintaxe JavaScript
2. Verificar logs de erro do servidor
3. Verificar configuração do framework

### **Se servidor não está rodando:**
1. Iniciar servidor: `npm start` ou `npm run dev`
2. Verificar porta correta
3. Verificar processos

## 📝 **EXECUTE OS TESTES ACIMA**

Por favor, execute os comandos de teste e cole aqui os resultados **completos** (incluindo headers HTTP com `-v`).

Isso vai nos dar informações precisas sobre:
- Se o servidor está respondendo
- Que tipo de resposta está vindo
- Se os endpoints existem
- Onde está o problema exato

**Cole os resultados aqui!** 🧪