
CORREÇÃO: Exibição de Imagens na Página de Edição
Problema Identificado:
Na página /seller/products/id/edit, as imagens estão mostrando /uploads/default-image.jpg em vez das imagens reais do produto.
Solução Necessária:
Arquivo: Página de edição de produtos (provavelmente /client/src/pages/seller/products/[id]/edit.tsx)

CORRIGIR fonte de dados das imagens:

typescript// Garantir que as imagens do produto sejam carregadas corretamente:
const productImages = product?.images?.map((img, index) => ({
  id: img.id,
  url: img.image_url, // URL real da imagem
  thumbnail: img.thumbnail_url,
  isPrimary: img.is_primary,
  preview: false // Não é preview, é imagem existente
})) || [];

CORRIGIR componente de exibição:

typescript// Para imagens existentes:
<SafeImage
  src={image.url} // URL real: /uploads/stores/{storeId}/products/{productId}/...
  alt={`${product.name} - Imagem ${index + 1}`}
  className="w-full h-full object-cover"
  productId={product.id}
/>

// Para previews de novas imagens:
<SafeImage
  src={image.preview || image.url} // Preview para novas, URL para existentes
  alt={`Preview ${index + 1}`}
  className="w-full h-full object-cover"
/>

DISTINGUIR entre imagens existentes e previews:

typescript// Estado para gerenciar imagens:
const [existingImages, setExistingImages] = useState(productImages);
const [previewImages, setPreviewImages] = useState([]);

// Renderizar ambos os tipos:
{existingImages.map((image, index) => (
  <div key={`existing-${image.id}`}>
    <SafeImage src={image.url} alt={`Imagem atual ${index + 1}`} />
    <button onClick={() => removeExistingImage(image.id)}>Remover</button>
  </div>
))}

{previewImages.map((image, index) => (
  <div key={`preview-${index}`}>
    <SafeImage src={image.preview} alt={`Nova imagem ${index + 1}`} />
    <button onClick={() => removePreviewImage(index)}>Remover</button>
  </div>
))}
Resultado esperado:

Imagens atuais do produto exibidas corretamente
Previews de novas imagens funcionando
Remoção de imagens existentes/novas funcionando


Identifique o arquivo de edição e implemente essa estrutura para exibir as imagens reais.